# ğŸš€ VEO AIå¹³å° - å¿«é€Ÿéƒ¨ç½²æŒ‡å—

## ğŸ“‹ éƒ¨ç½²å‰æ£€æŸ¥æ¸…å•

åœ¨éƒ¨ç½²ä¹‹å‰ï¼Œè¯·ç¡®è®¤ä»¥ä¸‹å†…å®¹ï¼š

- âœ… æ‰€æœ‰åŠŸèƒ½å·²åœ¨æœ¬åœ°æµ‹è¯•é€šè¿‡
- âœ… `.env` æ–‡ä»¶é…ç½®æ­£ç¡®
- âœ… æ•°æ®åº“è¿æ¥æ­£å¸¸
- âœ… Supabase Storageé…ç½®å®Œæˆ
- âœ… ä»£ç å·²æ¨é€åˆ°Gitä»“åº“

---

## ğŸŒŸ æ–¹æ¡ˆä¸€ï¼šVerceléƒ¨ç½²ï¼ˆæ¨èï¼‰

### ä¸ºä»€ä¹ˆé€‰æ‹©Vercelï¼Ÿ
- âœ… Next.jså®˜æ–¹æ¨èå¹³å°
- âœ… è‡ªåŠ¨CI/CD
- âœ… å…¨çƒCDNåŠ é€Ÿ
- âœ… å…è´¹HTTPSè¯ä¹¦
- âœ… é›¶é…ç½®éƒ¨ç½²

### æ­¥éª¤1ï¼šå‡†å¤‡Gitä»“åº“

```bash
# å¦‚æœè¿˜æ²¡æœ‰Gitä»“åº“ï¼Œå…ˆåˆå§‹åŒ–
cd veo-ai-platform
git init

# æ·»åŠ .gitignoreï¼ˆç¡®ä¿ä¸æäº¤æ•æ„Ÿä¿¡æ¯ï¼‰
# å·²æœ‰.gitignoreæ–‡ä»¶ï¼Œæ£€æŸ¥æ˜¯å¦åŒ…å«ï¼š
# .env
# .env.local
# node_modules/
# .next/

# æäº¤ä»£ç 
git add .
git commit -m "Initial commit - VEO AI Platform"

# æ¨é€åˆ°GitHub/GitLab/Bitbucket
# å…ˆåœ¨GitHubåˆ›å»ºä»“åº“ï¼Œç„¶åï¼š
git remote add origin https://github.com/YOUR_USERNAME/veo-ai-platform.git
git branch -M main
git push -u origin main
```

### æ­¥éª¤2ï¼šå¯¼å…¥åˆ°Vercel

1. **è®¿é—®Vercel**
   - æ‰“å¼€ https://vercel.com
   - ä½¿ç”¨GitHubè´¦å·ç™»å½•

2. **å¯¼å…¥é¡¹ç›®**
   - ç‚¹å‡» "New Project"
   - é€‰æ‹©æ‚¨çš„ä»“åº“ `veo-ai-platform`
   - ç‚¹å‡» "Import"

3. **é…ç½®é¡¹ç›®**
   - **Framework Preset**: Next.jsï¼ˆè‡ªåŠ¨æ£€æµ‹ï¼‰
   - **Root Directory**: ./ï¼ˆä¿æŒé»˜è®¤ï¼‰
   - **Build Command**: `npm run build`
   - **Output Directory**: `.next`ï¼ˆè‡ªåŠ¨ï¼‰

### æ­¥éª¤3ï¼šé…ç½®ç¯å¢ƒå˜é‡

åœ¨Vercelé¡¹ç›®è®¾ç½®ä¸­æ·»åŠ ç¯å¢ƒå˜é‡ï¼š

```env
# æ•°æ®åº“
DATABASE_URL=postgresql://postgres:PASSWORD@HOST:5432/postgres

# Supabase
SUPABASE_URL=https://YOUR_PROJECT.supabase.co
SUPABASE_ANON_KEY=your_anon_key
SUPABASE_SERVICE_KEY=your_service_key

# NextAuthï¼ˆé‡è¦ï¼ï¼‰
NEXTAUTH_URL=https://your-domain.vercel.app
NEXTAUTH_SECRET=your_production_secret_key

# å¾®ä¿¡ç™»å½•ï¼ˆå¦‚æœä½¿ç”¨ï¼‰
WECHAT_APP_ID=your_wechat_app_id
WECHAT_APP_SECRET=your_wechat_app_secret

# é‚®ä»¶æœåŠ¡ï¼ˆå¦‚æœä½¿ç”¨ï¼‰
RESEND_API_KEY=your_resend_api_key
FROM_EMAIL=noreply@yourdomain.com
```

âš ï¸ **é‡è¦æç¤º**ï¼š
- `NEXTAUTH_SECRET` å¿…é¡»æ˜¯ä¸€ä¸ªå¼ºå¯†é’¥ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç”Ÿæˆï¼š
  ```bash
  openssl rand -base64 32
  ```
- `NEXTAUTH_URL` å¿…é¡»æ˜¯æ‚¨çš„å®é™…åŸŸåï¼ˆéƒ¨ç½²åVercelä¼šæä¾›ï¼‰

### æ­¥éª¤4ï¼šéƒ¨ç½²

1. ç‚¹å‡» "Deploy"
2. ç­‰å¾…æ„å»ºå®Œæˆï¼ˆé€šå¸¸2-3åˆ†é’Ÿï¼‰
3. éƒ¨ç½²æˆåŠŸåä¼šå¾—åˆ°ä¸€ä¸ªåŸŸåï¼Œä¾‹å¦‚ï¼š`veo-ai-platform.vercel.app`

### æ­¥éª¤5ï¼šé…ç½®è‡ªå®šä¹‰åŸŸåï¼ˆå¯é€‰ï¼‰

1. åœ¨Vercelé¡¹ç›®è®¾ç½®ä¸­ç‚¹å‡» "Domains"
2. æ·»åŠ æ‚¨çš„è‡ªå®šä¹‰åŸŸå
3. æŒ‰ç…§æç¤ºé…ç½®DNSè®°å½•
4. ç­‰å¾…DNSç”Ÿæ•ˆï¼ˆé€šå¸¸å‡ åˆ†é’Ÿåˆ°24å°æ—¶ï¼‰

### æ­¥éª¤6ï¼šæ›´æ–°NextAuth URL

éƒ¨ç½²æˆåŠŸåï¼Œè®°å¾—æ›´æ–°ç¯å¢ƒå˜é‡ï¼š
```env
NEXTAUTH_URL=https://your-custom-domain.com
```
æˆ–è€…
```env
NEXTAUTH_URL=https://veo-ai-platform.vercel.app
```

---

## ğŸ”· æ–¹æ¡ˆäºŒï¼šNetlifyéƒ¨ç½²

### æ­¥éª¤1ï¼šå‡†å¤‡æ„å»ºé…ç½®

åˆ›å»º `netlify.toml` æ–‡ä»¶ï¼š

```toml
[build]
  command = "npm run build"
  publish = ".next"

[[plugins]]
  package = "@netlify/plugin-nextjs"
```

### æ­¥éª¤2ï¼šéƒ¨ç½²åˆ°Netlify

1. è®¿é—® https://netlify.com
2. ç™»å½•å¹¶ç‚¹å‡» "New site from Git"
3. è¿æ¥æ‚¨çš„Gitä»“åº“
4. é…ç½®æ„å»ºè®¾ç½®ï¼ˆè‡ªåŠ¨æ£€æµ‹ï¼‰
5. æ·»åŠ ç¯å¢ƒå˜é‡ï¼ˆåŒVercelï¼‰
6. ç‚¹å‡» "Deploy site"

---

## ğŸ–¥ï¸ æ–¹æ¡ˆä¸‰ï¼šè‡ªæ‰˜ç®¡VPSéƒ¨ç½²

### é€‚ç”¨åœºæ™¯
- éœ€è¦å®Œå…¨æ§åˆ¶æœåŠ¡å™¨
- æœ‰è‡ªå·±çš„VPS
- éœ€è¦è‡ªå®šä¹‰Nginx/Apacheé…ç½®

### æ­¥éª¤1ï¼šæœåŠ¡å™¨å‡†å¤‡

```bash
# è¿æ¥åˆ°æœåŠ¡å™¨
ssh user@your-server-ip

# æ›´æ–°ç³»ç»Ÿ
sudo apt update && sudo apt upgrade -y

# å®‰è£…Node.jsï¼ˆä½¿ç”¨nvmï¼‰
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash
source ~/.bashrc
nvm install 20
nvm use 20

# å®‰è£…PM2ï¼ˆè¿›ç¨‹ç®¡ç†å™¨ï¼‰
npm install -g pm2

# å®‰è£…Nginx
sudo apt install nginx -y
```

### æ­¥éª¤2ï¼šéƒ¨ç½²åº”ç”¨

```bash
# å…‹éš†ä»“åº“
cd /var/www
sudo git clone https://github.com/YOUR_USERNAME/veo-ai-platform.git
cd veo-ai-platform

# å®‰è£…ä¾èµ–
npm install

# åˆ›å»º.envæ–‡ä»¶
sudo nano .env
# ç²˜è´´ç¯å¢ƒå˜é‡é…ç½®

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# ä½¿ç”¨PM2å¯åŠ¨
pm2 start npm --name "veo-ai" -- start
pm2 save
pm2 startup
```

### æ­¥éª¤3ï¼šé…ç½®Nginx

```bash
# åˆ›å»ºNginxé…ç½®
sudo nano /etc/nginx/sites-available/veo-ai
```

æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š

```nginx
server {
    listen 80;
    server_name your-domain.com;

    location / {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }
}
```

```bash
# å¯ç”¨ç«™ç‚¹
sudo ln -s /etc/nginx/sites-available/veo-ai /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl restart nginx

# é…ç½®é˜²ç«å¢™
sudo ufw allow 'Nginx Full'
sudo ufw enable
```

### æ­¥éª¤4ï¼šé…ç½®SSLï¼ˆä½¿ç”¨Let's Encryptï¼‰

```bash
# å®‰è£…Certbot
sudo apt install certbot python3-certbot-nginx -y

# è·å–SSLè¯ä¹¦
sudo certbot --nginx -d your-domain.com

# è‡ªåŠ¨ç»­æœŸæµ‹è¯•
sudo certbot renew --dry-run
```

---

## ğŸ”§ éƒ¨ç½²åé…ç½®

### 1. æ•°æ®åº“åˆå§‹åŒ–

ç¡®ä¿æ•°æ®åº“è¡¨å·²åˆ›å»ºã€‚å¦‚æœä½¿ç”¨æ–°æ•°æ®åº“ï¼Œéœ€è¦ï¼š

```bash
# è¿è¡Œæ•°æ®åº“è¿ç§»è„šæœ¬
npm run db:migrate

# æˆ–æ‰‹åŠ¨æ‰§è¡ŒSQL
# ä½¿ç”¨prisma/schema.prismaä¸­å®šä¹‰çš„è¡¨ç»“æ„
```

### 2. ä¸Šä¼ ç¤ºä¾‹è§†é¢‘

è¿è¡Œè„šæœ¬å¡«å……ç¤ºä¾‹è§†é¢‘æ•°æ®ï¼š

```bash
node setup-real-veo-videos.js
```

### 3. æµ‹è¯•éƒ¨ç½²

è®¿é—®æ‚¨çš„åŸŸåï¼Œæµ‹è¯•ä»¥ä¸‹åŠŸèƒ½ï¼š
- âœ… ç”¨æˆ·æ³¨å†Œ/ç™»å½•
- âœ… å¤´åƒä¸Šä¼ 
- âœ… è§†é¢‘ç”Ÿæˆé¡µé¢
- âœ… è§†é¢‘ç”»å»Š
- âœ… ç§¯åˆ†ç³»ç»Ÿ

---

## ğŸ› å¸¸è§é—®é¢˜æ’æŸ¥

### é—®é¢˜1ï¼šæ„å»ºå¤±è´¥

**é”™è¯¯**: `Module not found` æˆ– `Cannot find module`

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ¸…é™¤ç¼“å­˜å¹¶é‡æ–°å®‰è£…
rm -rf node_modules package-lock.json
npm install
npm run build
```

### é—®é¢˜2ï¼šæ•°æ®åº“è¿æ¥å¤±è´¥

**é”™è¯¯**: `Error: connect ECONNREFUSED`

**è§£å†³æ–¹æ¡ˆ**:
- æ£€æŸ¥ `DATABASE_URL` æ˜¯å¦æ­£ç¡®
- ç¡®è®¤æ•°æ®åº“å…è®¸è¿œç¨‹è¿æ¥
- æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
- Supabaseéœ€è¦æ·»åŠ éƒ¨ç½²å¹³å°çš„IPåˆ°ç™½åå•

### é—®é¢˜3ï¼šNextAuthé”™è¯¯

**é”™è¯¯**: `[next-auth][error][JWT_SESSION_ERROR]`

**è§£å†³æ–¹æ¡ˆ**:
- ç¡®ä¿ `NEXTAUTH_SECRET` å·²è®¾ç½®
- ç¡®ä¿ `NEXTAUTH_URL` ä¸å®é™…åŸŸåä¸€è‡´
- é‡æ–°ç”Ÿæˆ `NEXTAUTH_SECRET`:
  ```bash
  openssl rand -base64 32
  ```

### é—®é¢˜4ï¼šå›¾ç‰‡/è§†é¢‘ä¸Šä¼ å¤±è´¥

**é”™è¯¯**: `Storage error` æˆ– `403 Forbidden`

**è§£å†³æ–¹æ¡ˆ**:
- æ£€æŸ¥ `SUPABASE_SERVICE_KEY` æ˜¯å¦æ­£ç¡®
- ç¡®è®¤Supabase Storage bucketå·²åˆ›å»º
- æ£€æŸ¥bucketçš„è®¿é—®æƒé™è®¾ç½®ä¸ºpublic

### é—®é¢˜5ï¼šç¯å¢ƒå˜é‡æœªç”Ÿæ•ˆ

**Vercel/Netlify**:
- åœ¨å¹³å°è®¾ç½®ä¸­æ·»åŠ ç¯å¢ƒå˜é‡
- é‡æ–°éƒ¨ç½²è§¦å‘æ›´æ–°

**è‡ªæ‰˜ç®¡VPS**:
- æ£€æŸ¥.envæ–‡ä»¶ä½ç½®å’Œæƒé™
- é‡å¯PM2è¿›ç¨‹ï¼š`pm2 restart veo-ai`

---

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–å»ºè®®

### 1. å¯ç”¨Gzipå‹ç¼©

**Vercel**: è‡ªåŠ¨å¯ç”¨

**Nginx**:
```nginx
gzip on;
gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;
```

### 2. é…ç½®CDN

- ä½¿ç”¨Vercel Edge Networkï¼ˆè‡ªåŠ¨ï¼‰
- æˆ–é…ç½®Cloudflare CDN

### 3. æ•°æ®åº“ä¼˜åŒ–

- æ·»åŠ é€‚å½“çš„ç´¢å¼•
- ä½¿ç”¨è¿æ¥æ± 
- è€ƒè™‘æ·»åŠ Redisç¼“å­˜

---

## ğŸ”’ å®‰å…¨æ£€æŸ¥æ¸…å•

éƒ¨ç½²åå¿…é¡»æ£€æŸ¥ï¼š

- âœ… HTTPSå·²å¯ç”¨
- âœ… ç¯å¢ƒå˜é‡æœªæ³„éœ²åˆ°å‰ç«¯
- âœ… `.env` æ–‡ä»¶æœªæäº¤åˆ°Git
- âœ… APIè·¯ç”±æœ‰é€‚å½“çš„æƒé™éªŒè¯
- âœ… æ–‡ä»¶ä¸Šä¼ æœ‰å¤§å°å’Œç±»å‹é™åˆ¶
- âœ… æ•°æ®åº“è¿æ¥ä½¿ç”¨SSL
- âœ… æ•æ„ŸAPIä½¿ç”¨é€Ÿç‡é™åˆ¶

---

## ğŸ“ˆ ç›‘æ§ä¸ç»´æŠ¤

### æ¨èå·¥å…·

1. **Vercel Analytics** - ç½‘ç«™åˆ†æ
2. **Sentry** - é”™è¯¯è·Ÿè¸ª
3. **LogRocket** - ç”¨æˆ·ä¼šè¯è®°å½•
4. **Uptime Robot** - ç½‘ç«™ç›‘æ§

### æ—¥å¸¸ç»´æŠ¤

```bash
# æŸ¥çœ‹PM2æ—¥å¿—ï¼ˆè‡ªæ‰˜ç®¡ï¼‰
pm2 logs veo-ai

# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
pm2 logs veo-ai --err

# é‡å¯åº”ç”¨
pm2 restart veo-ai

# æ›´æ–°ä»£ç 
git pull
npm install
npm run build
pm2 restart veo-ai
```

---

## ğŸ‰ éƒ¨ç½²å®Œæˆï¼

æ­å–œæ‚¨æˆåŠŸéƒ¨ç½²VEO AIå¹³å°ï¼

### ä¸‹ä¸€æ­¥ï¼š
1. åˆ†äº«æ‚¨çš„ç½‘ç«™é“¾æ¥
2. æ”¶é›†ç”¨æˆ·åé¦ˆ
3. æŒç»­è¿­ä»£æ”¹è¿›
4. è€ƒè™‘æ·»åŠ æ›´å¤šåŠŸèƒ½

å¦‚æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·å‚è€ƒé¡¹ç›®æ–‡æ¡£æˆ–è”ç³»æŠ€æœ¯æ”¯æŒï¼

ç¥æ‚¨çš„é¡¹ç›®å–å¾—å·¨å¤§æˆåŠŸï¼ğŸš€


