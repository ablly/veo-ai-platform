# EdgeOne环境变量配置 - 支付宝支付
# 复制以下内容，在EdgeOne控制台中逐个添加

# ===== 支付宝配置 =====

变量名: ALIPAY_APP_ID
变量值: 【请填写您的支付宝APPID，格式：2021xxxxxxxxxx】
说明: 从支付宝开放平台应用详情页获取

---

变量名: ALIPAY_PRIVATE_KEY
变量值: 【请填写应用私钥（一行，去掉头尾）】
说明: 从本地生成的"应用私钥.txt"文件中复制，注意去掉头尾和换行

格式要求:
❌ 错误: -----BEGIN RSA PRIVATE KEY-----
        MIIEvQIBADANBg...
        -----END RSA PRIVATE KEY-----

✅ 正确: MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC...

---

变量名: ALIPAY_PUBLIC_KEY
变量值: 【请填写支付宝公钥（一行，去掉头尾）】
说明: 从支付宝开放平台 → 应用详情 → 开发设置 → 接口加签方式 中复制

格式要求: 同样需要去掉头尾和换行，保持一行

---

变量名: ALIPAY_GATEWAY
变量值: https://openapi.alipay.com/gateway.do
说明: 支付宝正式环境网关地址（固定值）

沙箱环境: https://openapi-sandbox.dl.alipaydev.com/gateway.do

---

变量名: ALIPAY_SIGN_TYPE
变量值: RSA2
说明: 签名算法类型（固定值）

---

变量名: ALIPAY_CHARSET
变量值: utf-8
说明: 字符集（固定值）

---

# ===== 配置步骤 =====

1. 登录EdgeOne控制台
   https://console.cloud.tencent.com/edgeone

2. 进入您的站点 → Pages服务 → 选择项目

3. 点击"设置" → "环境变量"

4. 点击"新增环境变量"

5. 逐个添加上述6个环境变量

6. 点击"保存"

7. 等待EdgeOne自动重新部署（2-5分钟）

---

# ===== 配置验证 =====

配置完成后，访问您的网站测试支付功能：

1. 访问: https://www.veo-ai.site

2. 登录账号

3. 进入套餐页面: https://www.veo-ai.site/pricing

4. 选择一个套餐，点击"立即购买"

5. 检查是否成功跳转到支付宝收银台

6. 完成支付并验证积分到账

---

# ===== 注意事项 =====

⚠️ 密钥安全：
- 应用私钥绝对不能泄露！
- 不要将私钥提交到GitHub
- 不要将私钥分享给他人
- 定期更换密钥

⚠️ 格式要求：
- 应用私钥和支付宝公钥必须是一行
- 必须去掉头部"-----BEGIN RSA PRIVATE KEY-----"
- 必须去掉尾部"-----END RSA PRIVATE KEY-----"
- 不能有换行符

⚠️ 部署时间：
- 修改环境变量后，EdgeOne需要2-5分钟重新部署
- 部署完成前，新配置不会生效
- 建议等待5分钟后再测试

---

# ===== 配置记录 =====

配置完成时间: ______________

配置人员: ______________

APPID: ______________

测试结果: [ ] 成功  [ ] 失败

备注: ______________


